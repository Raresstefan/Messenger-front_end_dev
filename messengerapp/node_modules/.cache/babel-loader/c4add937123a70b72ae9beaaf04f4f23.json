{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\rares\\\\Desktop\\\\Messenger App\\\\messengerapp\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\rares\\\\Desktop\\\\Messenger App\\\\messengerapp\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\rares\\\\Desktop\\\\Messenger App\\\\messengerapp\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\rares\\\\Desktop\\\\Messenger App\\\\messengerapp\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\rares\\\\Desktop\\\\Messenger App\\\\messengerapp\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _defineProperty from \"C:\\\\Users\\\\rares\\\\Desktop\\\\Messenger App\\\\messengerapp\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\n\nvar _loginStyle,\n    _jsxFileName = \"C:\\\\Users\\\\rares\\\\Desktop\\\\Messenger App\\\\messengerapp\\\\src\\\\Componente\\\\PrimaPagina\\\\PrimaPagina.js\";\n\nimport React from \"react\";\nimport axios from \"axios\";\nimport Submit from \"../Submit/Submit\";\nimport Register from \"../Register/Register\";\nvar headStyle = {\n  border: \"3px solid black\",\n  height: \"50px\",\n  \"background-color\": \"lightgray\",\n  \"text-align\": \"center\"\n};\nvar loginStyle = (_loginStyle = {\n  \"background-color\": \"blue\",\n  \"border-radius\": \"20px\",\n  height: \"50%\",\n  width: \"50%\",\n  left: \"25%\",\n  top: \"25%\",\n  position: \"absolute\",\n  \"text-align\": \"center\",\n  padding: \"20px\"\n}, _defineProperty(_loginStyle, \"background-color\", \"lightgray\"), _defineProperty(_loginStyle, \"background-color\", \"rgba(0,255,0,0.3)\"), _loginStyle);\nvar usernameStyle = {\n  \"border-radius\": \"15px\",\n  height: \"30px\",\n  \"text-align\": \"center\"\n};\nvar passwordStyle = {\n  \"border-radius\": \"15px\",\n  marginTop: \"25px\",\n  height: \"30px\",\n  \"text-align\": \"center\"\n};\nvar submitStyle = {\n  width: \"200px\",\n  marginTop: \"25px\",\n  height: \"30px\",\n  \"background-color\": \"forestgreen\",\n  \"font-size\": \"15px\"\n};\n\nvar PrimaPagina =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(PrimaPagina, _React$Component);\n\n  function PrimaPagina() {\n    var _this;\n\n    _classCallCheck(this, PrimaPagina);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(PrimaPagina).call(this));\n\n    _this.loadData = function () {\n      axios.get(\"http://localhost:3005/users\").then(function (req) {\n        _this.setState({\n          isDataloaded: true,\n          data: req.data\n        });\n      });\n    };\n\n    _this.uploadData = function (e) {\n      _this.setState(_defineProperty({}, e.target.id, e.target.value));\n    };\n\n    _this.swapForm = function () {\n      _this.setState({\n        register: true\n      });\n    };\n\n    _this.newlogin = function () {\n      if (_this.state.username === undefined || _this.state.password === undefined) alert(\"Unul dintre campuri nu este valid\");else if (_this.state.username === \"\" || _this.state.password === \"\") alert(\"Unul dintre campuri este gol\");else {\n        axios.post(\"http://localhost:3005/login\", {\n          username: _this.state.username,\n          password: _this.state.password\n        }).then(function (res) {\n          _this.loadData();\n\n          if (res.data === \"Succes\") {\n            _this.setState({\n              dataok: true\n            });\n          }\n        }).catch(function (err) {\n          alert(\"Nume sau parola gresite\");\n        });\n      }\n    };\n\n    _this.state = {\n      username: \"\",\n      password: \"\",\n      isDataloaded: false,\n      data: null,\n      dataok: false,\n      register: false\n    };\n    return _this;\n  }\n\n  _createClass(PrimaPagina, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.loadData();\n      this.setState({\n        timer: setInterval(this.loadData, 500)\n      });\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      clearInterval(this.state.timer);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.state.register === true) return React.createElement(Register, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      });else if (this.state.dataok === true) {\n        return React.createElement(Submit, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 116\n          },\n          __self: this\n        });\n      } else {\n        return React.createElement(\"div\", {\n          style: headStyle,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 121\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          style: {\n            \"font-size\": \"40px\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 122\n          },\n          __self: this\n        }, \"Messenger\"), React.createElement(\"div\", {\n          style: loginStyle,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 123\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          style: {\n            color: \"coral\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 124\n          },\n          __self: this\n        }, \"Welcome to my messenger app \"), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 125\n          },\n          __self: this\n        }), React.createElement(\"input\", {\n          onChange: this.uploadData,\n          id: \"username\",\n          style: usernameStyle,\n          placeholder: \"Username\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 126\n          },\n          __self: this\n        }), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 127\n          },\n          __self: this\n        }), React.createElement(\"input\", {\n          onChange: this.uploadData,\n          id: \"password\",\n          type: \"password\",\n          style: passwordStyle,\n          placeholder: \"Password\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 128\n          },\n          __self: this\n        }), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 129\n          },\n          __self: this\n        }), React.createElement(\"button\", {\n          onClick: this.newlogin,\n          style: submitStyle,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 130\n          },\n          __self: this\n        }, \"Submit\"), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 133\n          },\n          __self: this\n        }), React.createElement(\"button\", {\n          onClick: this.swapForm,\n          style: submitStyle,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 134\n          },\n          __self: this\n        }, \"To register\")));\n      }\n    }\n  }]);\n\n  return PrimaPagina;\n}(React.Component);\n\nexport default PrimaPagina;","map":{"version":3,"sources":["C:\\Users\\rares\\Desktop\\Messenger App\\messengerapp\\src\\Componente\\PrimaPagina\\PrimaPagina.js"],"names":["React","axios","Submit","Register","headStyle","border","height","loginStyle","width","left","top","position","padding","usernameStyle","passwordStyle","marginTop","submitStyle","PrimaPagina","loadData","get","then","req","setState","isDataloaded","data","uploadData","e","target","id","value","swapForm","register","newlogin","state","username","undefined","password","alert","post","res","dataok","catch","err","timer","setInterval","clearInterval","color","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport axios from \"axios\";\r\nimport Submit from \"../Submit/Submit\";\r\nimport Register from \"../Register/Register\";\r\nvar headStyle = {\r\n  border: \"3px solid black\",\r\n  height: \"50px\",\r\n  \"background-color\": \"lightgray\",\r\n  \"text-align\": \"center\"\r\n};\r\nvar loginStyle = {\r\n  \"background-color\": \"blue\",\r\n  \"border-radius\": \"20px\",\r\n  height: \"50%\",\r\n  width: \"50%\",\r\n  left: \"25%\",\r\n  top: \"25%\",\r\n  position: \"absolute\",\r\n  \"text-align\": \"center\",\r\n  padding: \"20px\",\r\n  \"background-color\": \"lightgray\",\r\n  \"background-color\": \"rgba(0,255,0,0.3)\"\r\n};\r\nvar usernameStyle = {\r\n  \"border-radius\": \"15px\",\r\n  height: \"30px\",\r\n  \"text-align\": \"center\"\r\n};\r\nvar passwordStyle = {\r\n  \"border-radius\": \"15px\",\r\n  marginTop: \"25px\",\r\n  height: \"30px\",\r\n  \"text-align\": \"center\"\r\n};\r\nvar submitStyle = {\r\n  width: \"200px\",\r\n  marginTop: \"25px\",\r\n  height: \"30px\",\r\n  \"background-color\": \"forestgreen\",\r\n  \"font-size\": \"15px\"\r\n};\r\n\r\nclass PrimaPagina extends React.Component {\r\n  constructor()\r\n  {\r\n    super();\r\n    this.state = {\r\n      username : \"\",\r\n      password : \"\",\r\n      isDataloaded : false,\r\n      data : null,\r\n      dataok : false,\r\n      register : false\r\n    }\r\n  }\r\n  loadData = () => {\r\n    axios.get(\"http://localhost:3005/users\")\r\n    .then(req => {\r\n      this.setState({\r\n        isDataloaded : true,\r\n        data : req.data\r\n      })\r\n    })\r\n  }\r\n  componentDidMount() {\r\n    this.loadData();\r\n    this.setState({\r\n      timer : setInterval(this.loadData, 500)\r\n    })\r\n  }\r\n  componentWillUnmount() {\r\n    clearInterval(this.state.timer);\r\n  }\r\n  uploadData = (e) => {\r\n    this.setState({\r\n      [e.target.id] : e.target.value\r\n    })\r\n  }\r\n  swapForm = () => {\r\n    this.setState({\r\n      register : true\r\n    })\r\n  }\r\n  newlogin = () => {\r\n    if(this.state.username === undefined || this.state.password === undefined)\r\n    alert(\"Unul dintre campuri nu este valid\");\r\n    else if(this.state.username === \"\" || this.state.password === \"\")\r\n    alert(\"Unul dintre campuri este gol\");\r\n    else {\r\n      axios.post(\"http://localhost:3005/login\", {\r\n        username : this.state.username,\r\n        password : this.state.password\r\n      })\r\n      .then(res => {\r\n        this.loadData();\r\n        if(res.data === \"Succes\")\r\n        {\r\n          this.setState({\r\n            dataok : true\r\n          })\r\n        }\r\n      })\r\n      .catch(err => {\r\n        alert(\"Nume sau parola gresite\");\r\n      })\r\n    }\r\n  }\r\n  render() {\r\n    if(this.state.register === true)\r\n    return(\r\n      <Register/>\r\n    )\r\n    else if(this.state.dataok === true)\r\n    {\r\n      return(\r\n        <Submit/>\r\n      )\r\n    }\r\n    else {\r\n    return (\r\n      <div style={headStyle}>\r\n        <div style={{ \"font-size\": \"40px\" }}>Messenger</div>\r\n        <div style={loginStyle}>\r\n          <div style={{ color: \"coral\" }}>Welcome to my messenger app </div>\r\n          <br />\r\n          <input onChange = {this.uploadData} id = \"username\" style={usernameStyle} placeholder=\"Username\" />\r\n          <br />\r\n          <input onChange = {this.uploadData} id = \"password\" type=\"password\" style={passwordStyle} placeholder=\"Password\" />\r\n          <br />\r\n          <button onClick={this.newlogin} style={submitStyle}>\r\n            Submit\r\n          </button>\r\n          <br />\r\n          <button onClick={this.swapForm} style={submitStyle}>\r\n            To register\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n}\r\nexport default PrimaPagina;"]},"metadata":{},"sourceType":"module"}